<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
           xmlns:p="http://primefaces.org/ui"
     xmlns:o="http://omnifaces.org/ui"
     xmlns:of="http://omnifaces.org/functions"
>
<ui:composition>
 
            <p:commandButton
                         id="buttonLogout"
                         ajax="true"
                         value="#{msg['button.logout']}"
                         immediate="true"
                         icon="ui-icon-power"
                         action="#{courseC.logout('from button Logout')}"
                         rendered="#{courseC.connected}"
                         onclick="window.location.reload();"
                         />
&nbsp;

&nbsp;
            <p:commandButton
                         id="buttonFrançais"
                         title="écrans en Français"
                         ajax="true"
                         value="#{msg['button.french']}"
                         immediate="true"
                         icon="fa fa-language"
                         action="#{languageC.setLanguage('fr')}"
                     
                         onclick="setTimeout(function(){window.location.reload();},200);"
                        >
            </p:commandButton>
<!-- reload(forceGet) Boolean Optional.
avec un delay de 200 milliseconds, le temps de changer de langue ...
default=false which reloads the page from the cache.
Set this parameter to true if you want to force the browser to get the page from the server 
-->
&nbsp;
            <p:commandButton 
                         id="buttonNederlands"
                         title="schermen in het Nederlands"
                         ajax="true"
                         value="#{msg['button.dutch']}"
                         immediate="true"
                         icon="fa fa-language"
                       
                         action="#{languageC.setLanguage('nl')}"
                         onclick="setTimeout(function(){window.location.reload();},100);"
                         />
&nbsp;
            <p:commandButton
                         id="buttonEnglish"
                         title="screens in English"
                         ajax="true"
                         value="#{msg['button.english']}"
                         immediate="true"
                         icon="fa fa-language"
                     
                         action="#{languageC.setLanguage('en')}"
                         onclick="setTimeout(function(){window.location.reload();},100);"
                         />
&nbsp;
<!--
#{courseC.emoji}
-->
<!--
<select id="language" name="language" onchange="submit()">
                <option value="en" ${language == 'en' ? 'selected' : ''}>English</option>
                <option value="nl" ${language == 'nl' ? 'selected' : ''}>Nederlands</option>
                <option value="es" ${language == 'es' ? 'selected' : ''}>Español</option>
 <input type="submit" name="submit" value="button value">
-->

    <p:commandButton id="buttonGetTime" value="Get time" >
      <f:ajax render="time"/>
    </p:commandButton>
    <h:outputText  id="time" value="#{of:formatDate(now, 'yyyy-MM-dd HH:mm:ss')}"
 />
    
    
<!--
    <c:set var="zoneid"
           value="#{courseC.player.playerTimeZone.timeZoneId}"/>
    <h:commandButton value="Get time #{zoneid}" >
      <f:ajax render="Zonedtime"/>
    </h:commandButton>
  
    <h:outputText id="Zonedtime"
                  value="#{courseC.CurrentTimeWithZoneOffset()}" 
                  rendered="#{courseC.player.idplayer != null}"
                  />
-->
    <h:outputText value=" /Current Player " rendered="#{courseC.player.idplayer != null}"/>
     <h:outputText value=" #{courseC.player.idplayer}
                    , first name = #{courseC.player.playerFirstName}
                    , last name =  #{courseC.player.playerLastName}
                    , role =  #{courseC.player.playerRole}"
                    escape="false"
             rendered="#{courseC.player.idplayer != null}"/>
    
    
    <h:outputText value=" /Language " rendered="#{courseC.player.idplayer != null}"/>
    <b> <h:outputText value=" #{languageC.locale}" rendered="#{courseC.player.idplayer != null}"/></b>
    
    <h:outputText value=" /Subscription End Date : " rendered="#{courseC.player.idplayer != null}"/>
    <b> <h:outputText value=" #{courseC.subscription.endDate}" rendered="#{courseC.player.idplayer != null}"/>  </b> 
    
    <h:outputText value=" /Subscription Trial : " rendered="#{courseC.player.idplayer != null}"/>
    <b> <h:outputText value=" #{courseC.subscription.trialCount}" rendered="#{courseC.player.idplayer != null}"/> </b> 

    
    
    
    <h:outputText value=" /ZoneId Time Zone : " 
                  rendered="#{courseC.player.idplayer != null}"/>
    <b> <h:outputText value=" #{courseC.player.getPlayerTimeZone().getTimeZoneId()}"
                      rendered="#{courseC.player.idplayer != null}"/> </b> 

   
    
    <h:outputText value=" /Sunset, sunrise : " rendered="#{courseC.player.idplayer != null}"/>
    <b> <h:outputText value=" #{courseC.sunRiseSet}" rendered="#{courseC.player.idplayer != null}"/> </b> 
        
    <h:outputText value=" /Execution : " />
    <b> <h:outputText value="#{settings['Execution']}"/> </b> 
    
    <!-- <h:outputText value="#{utilsC.sessionCount}"/>  -->
    <b>
    <h:outputText  value="/Sessions :  " />
    </b>
 
    also == #{mySessionCounter.activeSessions}
    
    <h:outputText rendered="#{not empty playerid}">
        Welcome #{playerid}, #{playerlastname} you have been logged in!  
    </h:outputText>
    
<p:separator id="separatorHeader"/>

</ui:composition>
</html>